(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"5OiB":function(t,i,e){"use strict";e.r(i),e.d(i,"AdminModule",(function(){return E}));var r=e("ofXK"),a=e("3Pt+"),n=e("R1ws"),o=e("FKr1"),s=e("fXoL");const c=["*",[["mat-card-footer"]]],m=["*","mat-card-footer"];let d=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=s.Hb({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),l=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=s.Hb({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),b=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=s.Hb({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,i){2&t&&s.Db("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),g=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(i){return new(i||t)(s.Mb(n.a,8))},t.\u0275cmp=s.Gb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&s.Db("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:m,decls:2,vars:0,template:function(t,i){1&t&&(s.fc(c),s.ec(0),s.ec(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),p=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(i){return new(i||t)},imports:[[o.f],o.f]}),t})();var u=e("qFsG"),h=e("kmnG"),f=e("bTqV"),v=e("NFeN"),w=e("tyNb");let y=(()=>{class t{constructor(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=s.Gb({type:t,selectors:[["app-admin"]],decls:1,vars:0,template:function(t,i){1&t&&s.Nb(0,"router-outlet")},directives:[w.h],encapsulation:2}),t})();function x(t){const i=t.get("password"),e=t.get("confirmPassword");return i&&e&&i.value!==e.value?{mismatch:!0}:null}var P=e("VHTt"),M=e("quSY"),C=e("xLsK");function R(t,i){1&t&&(s.Rb(0,"div",12),s.Nb(1,"img",13),s.Qb())}function Q(t,i){if(1&t&&(s.Rb(0,"mat-error"),s.tc(1),s.Qb()),2&t){const t=s.bc();s.Ab(1),s.vc(" ",t.getEmailErrorMessage(),"")}}function S(t,i){if(1&t&&(s.Rb(0,"mat-error"),s.tc(1),s.Qb()),2&t){const t=s.bc();s.Ab(1),s.vc(" ",t.getConfirmPasswordErrorMessage(),"")}}function k(t,i){if(1&t&&(s.Rb(0,"mat-error"),s.tc(1),s.Qb()),2&t){const t=s.bc();s.Ab(1),s.vc(" ",t.getErrorMessage(),"")}}function _(t,i){1&t&&(s.Rb(0,"div",12),s.Nb(1,"img",13),s.Qb())}const O=[{path:"",component:y,children:[{path:"register",component:(()=>{class t{constructor(t,i,e,r,a,n,o,s){this.route=t,this.router=i,this.fb=e,this.viewportService=r,this.apiService=a,this.authService=n,this.messageService=o,this.toastService=s,this.hide=!0,this.viewPort=new P.ViewPort,this.sender="REGISTER",this.subscription=new M.a}ngOnInit(){this.registerForm=this.fb.group({email:["",[a.m.required,a.m.email,a.m.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+")]],password:["",[a.m.required,a.m.minLength(6)]],confirmPassword:["",[a.m.required,a.m.minLength(6)]]},{validator:x}),this.subscription.add(this.viewportService.viewportLayout$.subscribe(t=>{this.viewPort=t})),this.subscription.add(this.toastService.toast$.subscribe(t=>{t===this.sender&&this.router.navigate(["../login"],{relativeTo:this.route})}))}ngOnDestroy(){this.subscription.unsubscribe()}validateEmail(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}getEmailErrorMessage(){const t=this.registerForm.get("email");return t.hasError("required")?"You must enter a value":t.hasError("email")?"Not a valid email address":""}getConfirmPasswordErrorMessage(){const t=this.registerForm.get("confirmPassword");return t.hasError("required")?"You must enter a value":t.hasError("confirmPassword")?"Password do not match":""}onSubmit(){if(this.registerForm.invalid)return;const t=this.registerForm.value;this.subscription.add(this.apiService.register({email:t.email,password:t.password,confirmPassword:t.confirmPassword}).subscribe(t=>{this.messageService.sendMessage({message:"Registration successful. Welcome to CareerPhils!",error:!1,sender:this.sender}),this.authService.setToken(t.token)}))}}return t.\u0275fac=function(i){return new(i||t)(s.Mb(w.a),s.Mb(w.c),s.Mb(a.c),s.Mb(C.f),s.Mb(C.a),s.Mb(C.b),s.Mb(C.c),s.Mb(C.d))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-register"]],decls:33,vars:13,consts:[[1,"form-container"],[1,"mat-elevation-z2"],["class","img-container",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","placeholder","name@example.com","type","email","formControlName","email"],[4,"ngIf"],["matInput","","placeholder","Password","type","password","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","placeholder","Confirm Password","type","password","formControlName","confirmPassword",3,"type"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["routerLink","../login",1,"cancel","btn","btn-link"],[1,"img-container"],["src","../../../../assets/admin/registration.jpg","alt","Registration Photo"]],template:function(t,i){1&t&&(s.Rb(0,"div",0),s.Rb(1,"mat-card",1),s.rc(2,R,2,0,"div",2),s.Rb(3,"form",3),s.Yb("ngSubmit",(function(){return i.onSubmit()})),s.Rb(4,"mat-card-title"),s.tc(5,"Register"),s.Qb(),s.Rb(6,"mat-card-content"),s.Rb(7,"mat-form-field",4),s.Rb(8,"mat-label"),s.tc(9,"Enter your email"),s.Qb(),s.Nb(10,"input",5),s.rc(11,Q,2,1,"mat-error",6),s.Qb(),s.Rb(12,"mat-form-field",4),s.Rb(13,"mat-label"),s.tc(14,"Enter your password"),s.Qb(),s.Nb(15,"input",7),s.Rb(16,"button",8),s.Yb("click",(function(){return i.hide=!i.hide})),s.Rb(17,"mat-icon"),s.tc(18),s.Qb(),s.Qb(),s.Qb(),s.Rb(19,"mat-form-field",4),s.Rb(20,"mat-label"),s.tc(21,"Confirm your password"),s.Qb(),s.Nb(22,"input",9),s.Rb(23,"button",8),s.Yb("click",(function(){return i.hide=!i.hide})),s.Rb(24,"mat-icon"),s.tc(25),s.Qb(),s.Qb(),s.rc(26,S,2,1,"mat-error",6),s.Qb(),s.Qb(),s.Rb(27,"mat-card-actions"),s.Rb(28,"button",10),s.tc(29,"Register "),s.Qb(),s.Rb(30,"span"),s.Rb(31,"a",11),s.tc(32,"Cancel"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb()),2&t&&(s.Ab(2),s.gc("ngIf",!i.viewPort.isHandset),s.Ab(1),s.gc("formGroup",i.registerForm),s.Ab(8),s.gc("ngIf",i.registerForm.get("email").invalid),s.Ab(4),s.gc("type",i.hide?"password":"text"),s.Ab(1),s.Bb("aria-label","Hide password")("aria-pressed",i.hide),s.Ab(2),s.uc(i.hide?"visibility_off":"visibility"),s.Ab(4),s.gc("type",i.hide?"password":"text"),s.Ab(1),s.Bb("aria-label","Hide password")("aria-pressed",i.hide),s.Ab(2),s.uc(i.hide?"visibility_off":"visibility"),s.Ab(1),s.gc("ngIf",i.registerForm.get("confirmPassword").invalid),s.Ab(2),s.gc("disabled",!i.registerForm.valid))},directives:[g,r.k,a.n,a.j,a.e,l,d,h.c,h.g,u.b,a.b,a.i,a.d,f.a,h.h,v.a,b,w.f,h.b],styles:['[_nghost-%COMP%]{display:block;font-family:Lato,sans-serif}.form-container[_ngcontent-%COMP%]{width:100%;min-width:40%;height:100vh;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff}.form-container[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;top:0;left:0;z-index:1;background-image:linear-gradient(0deg,rgba(138,188,252,.3),#15316d);-webkit-clip-path:polygon(50% 50%,100% 30%,100% 0,0 0,0 30%);clip-path:polygon(50% 50%,100% 30%,100% 0,0 0,0 30%)}.mat-card[_ngcontent-%COMP%]{display:flex;margin:2em auto;z-index:2}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.img-container[_ngcontent-%COMP%]{padding-right:1.3em}div.mat-card-header-text[_ngcontent-%COMP%]{margin:0}.mat-card-title[_ngcontent-%COMP%]{padding-top:.5em;color:#dc143c}.mat-form-field[_ngcontent-%COMP%]{width:100%;padding-top:1em}.mat-card-actions[_ngcontent-%COMP%]{padding-left:.3em;margin-bottom:0}.cancel[_ngcontent-%COMP%]{font-weight:500;color:#8a2be2;cursor:pointer;text-decoration:none;padding-left:1em}.mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:var(--primary)}']}),t})()},{path:"login",component:(()=>{class t{constructor(t,i,e,r,a,n,o,s){this.router=t,this.viewportService=i,this.fb=e,this.apiService=r,this.authService=a,this.messageService=n,this.userService=o,this.toastService=s,this.viewPort=new P.ViewPort,this.submitted=!1,this.hide=!0,this.sender="LOGIN",this.subscription=new M.a}ngOnInit(){this.loginForm=this.fb.group({email:["",[a.m.required,a.m.email]],password:["",[a.m.required,a.m.minLength(6)]]}),this.subscription.add(this.viewportService.viewportLayout$.subscribe(t=>{this.viewPort=t})),this.subscription.add(this.toastService.toast$.subscribe(t=>{t===this.sender&&this.user&&this.router.navigate(["../users/"+this.user.id])}))}ngOnDestroy(){this.subscription.unsubscribe()}getErrorMessage(){const t=this.loginForm.get("email");return t.hasError("required")?"You must enter a value":t.hasError("email")?"Not a valid email":""}onSubmit(){if(this.submitted=!0,this.loginForm.invalid)return;const t=this.loginForm.value;this.subscription.add(this.apiService.login({email:t.email,password:t.password}).subscribe(t=>{this.user=t.data;const i=t.token;this.messageService.sendMessage({message:"Login Successful",error:!1,sender:this.sender}),this.authService.setToken(i),this.userService.broadcastUser(this.user)}))}forgotPassHandler(){this.subscription.add(this.apiService.forgotPassword(this.user.email).subscribe(t=>{console.log(t)}))}}return t.\u0275fac=function(i){return new(i||t)(s.Mb(w.c),s.Mb(C.f),s.Mb(a.c),s.Mb(C.a),s.Mb(C.b),s.Mb(C.c),s.Mb(C.e),s.Mb(C.d))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-login"]],decls:25,vars:8,consts:[[1,"form-container"],[1,"mat-elevation-z2"],[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","placeholder","name@example.com","type","email","formControlName","email"],[4,"ngIf"],["matInput","","placeholder","Password","type","password","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"actions"],["mat-button","",3,"click"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],["class","img-container",4,"ngIf"],[1,"img-container"],["src","../../../../assets/admin/registration.jpg","alt","Login Photo"]],template:function(t,i){1&t&&(s.Rb(0,"div",0),s.Rb(1,"mat-card",1),s.Rb(2,"form",2),s.Yb("ngSubmit",(function(){return i.onSubmit()})),s.Rb(3,"mat-card-title"),s.tc(4,"Login"),s.Qb(),s.Rb(5,"mat-card-content"),s.Rb(6,"mat-form-field",3),s.Rb(7,"mat-label"),s.tc(8,"Enter your email"),s.Qb(),s.Nb(9,"input",4),s.rc(10,k,2,1,"mat-error",5),s.Qb(),s.Rb(11,"mat-form-field",3),s.Rb(12,"mat-label"),s.tc(13,"Enter your password"),s.Qb(),s.Nb(14,"input",6),s.Rb(15,"button",7),s.Yb("click",(function(){return i.hide=!i.hide})),s.Rb(16,"mat-icon"),s.tc(17),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(18,"div",8),s.Rb(19,"button",9),s.Yb("click",(function(){return i.forgotPassHandler()})),s.tc(20,"Forgot password?"),s.Qb(),s.Rb(21,"mat-card-actions"),s.Rb(22,"button",10),s.tc(23,"Login"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.rc(24,_,2,0,"div",11),s.Qb(),s.Qb()),2&t&&(s.Ab(2),s.gc("formGroup",i.loginForm),s.Ab(8),s.gc("ngIf",i.loginForm.get("email").invalid),s.Ab(4),s.gc("type",i.hide?"password":"text"),s.Ab(1),s.Bb("aria-label","Hide password")("aria-pressed",i.hide),s.Ab(2),s.uc(i.hide?"visibility_off":"visibility"),s.Ab(5),s.gc("disabled",!i.loginForm.valid),s.Ab(2),s.gc("ngIf",!i.viewPort.isHandset))},directives:[g,a.n,a.j,a.e,l,d,h.c,h.g,u.b,a.b,a.i,a.d,r.k,f.a,h.h,v.a,b,h.b],styles:['[_nghost-%COMP%]{display:block}.form-container[_ngcontent-%COMP%]{width:100%;min-width:40%;height:100vh;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff}.form-container[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;top:0;left:0;z-index:1;background-image:linear-gradient(0deg,rgba(138,188,252,.3),#15316d);-webkit-clip-path:polygon(50% 50%,100% 30%,100% 0,0 0,0 30%);clip-path:polygon(50% 50%,100% 30%,100% 0,0 0,0 30%)}.mat-card[_ngcontent-%COMP%]{font-family:Lato,sans-serif;display:flex;margin:2em auto;z-index:2}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.img-container[_ngcontent-%COMP%]{padding-left:1.3em}div.mat-card-header-text[_ngcontent-%COMP%]{margin:0}.mat-card-title[_ngcontent-%COMP%]{padding-top:.5em;color:#dc143c}.mat-form-field[_ngcontent-%COMP%]{width:100%;padding-top:1em}.mat-card-actions[_ngcontent-%COMP%]{padding-left:.3em;margin-bottom:0}.actions[_ngcontent-%COMP%]{display:flex;align-items:baseline}button[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:1rem;margin-right:30px;color:var(--primary)}.cancel[_ngcontent-%COMP%]{font-weight:500;color:#8a2be2;cursor:pointer;text-decoration:none;padding-left:1em}.mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:var(--primary)}']}),t})()}]}];let A=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(i){return new(i||t)},imports:[[w.g.forChild(O)],w.g]}),t})(),E=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(i){return new(i||t)},imports:[[r.c,a.l,p,u.c,h.e,f.b,v.b,A]]}),t})()}}]);